{"remainingRequest":"C:\\Users\\Ron Elnekave\\Desktop\\spotifood\\oved\\spotifood\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Ron Elnekave\\Desktop\\spotifood\\oved\\spotifood\\frontend\\src\\views\\groups.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Ron Elnekave\\Desktop\\spotifood\\oved\\spotifood\\frontend\\src\\views\\groups.vue","mtime":1553951956358},{"path":"C:\\Users\\Ron Elnekave\\Desktop\\spotifood\\oved\\spotifood\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ron Elnekave\\Desktop\\spotifood\\oved\\spotifood\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Ron Elnekave\\Desktop\\spotifood\\oved\\spotifood\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ron Elnekave\\Desktop\\spotifood\\oved\\spotifood\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport GroupList from \"../components/groups/group-list-cmp\";\r\nimport groupStore from \"../store/group-store.js\";\r\nimport FilterGroup from \"../components/groups/filter-cmps/filterGroups-cmp.vue\";\r\nimport LoadingCmp from \"../components/loading-cmp.vue\";\r\nimport GroupPreview from \"../components/groups/group-preview-cmp\";\r\n\r\nexport default {\r\n  components: {\r\n    LoadingCmp,\r\n    GroupList,\r\n    FilterGroup,\r\n    GroupPreview\r\n  },\r\n  data() {\r\n    return {\r\n      loadedGroups: false,\r\n      currLoc: null,\r\n      nearbyGroups: null\r\n    };\r\n  },\r\n  created() {\r\n    this.$store.dispatch({ type: \"getGroups\" }).then(() => {\r\n      setTimeout(() => {\r\n        this.loadedGroups = true;\r\n      }, 1000);\r\n      if (navigator.geolocation) {\r\n        navigator.geolocation.getCurrentPosition(({ coords }) => {\r\n          this.currLoc = {\r\n            lat: coords.latitude,\r\n            lng: coords.longitude\r\n          };\r\n          console.log(\"currLoc\", this.currLoc);\r\n          console.log(this.$store.getters.groups);\r\n          let nearby = this.$store.getters.groups.filter(group => {\r\n            let dist = this.getDistanceFromLatLonInKm(\r\n              this.currLoc.lat,\r\n              this.currLoc.lng,\r\n              group.location.lat,\r\n              group.location.lng\r\n            );\r\n            console.log(\"distance:\", dist);\r\n            return dist < 80;\r\n          });\r\n          console.log(\"nearby groups are\", nearby);\r\n          this.nearbyGroups = nearby;\r\n        });\r\n      }\r\n    });\r\n  },\r\n  computed: {\r\n    groups() {\r\n      return this.$store.getters.groups;\r\n    }\r\n  },\r\n  methods: {\r\n    filter(filterBy) {\r\n      this.$store.dispatch({ type: \"filterGroups\", filterBy });\r\n    },\r\n    getDistanceFromLatLonInKm(lat1, lon1, lat2, lon2) {\r\n      var R = 6371; // Radius of the earth in km\r\n      var dLat = this.deg2rad(lat2 - lat1); // deg2rad below\r\n      var dLon = this.deg2rad(lon2 - lon1);\r\n      var a =\r\n        Math.sin(dLat / 2) * Math.sin(dLat / 2) +\r\n        Math.cos(this.deg2rad(lat1)) *\r\n          Math.cos(this.deg2rad(lat2)) *\r\n          Math.sin(dLon / 2) *\r\n          Math.sin(dLon / 2);\r\n      var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n      var d = R * c; // Distance in km\r\n      return d;\r\n    },\r\n    deg2rad(deg) {\r\n      return deg * (Math.PI / 180);\r\n    }\r\n  }\r\n};\r\n",{"version":3,"sources":["groups.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"groups.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <section>\r\n    <LoadingCmp v-if=\"!loadedGroups\"></LoadingCmp>\r\n    <div v-if=\"loadedGroups\" data-aos=\"fade-down\" data-aos-duration=\"900\" class=\"filter-container\">\r\n      <FilterGroup @filter=\"filter\"></FilterGroup>\r\n    </div>\r\n    <div v-if=\"nearbyGroups && nearbyGroups.length\" class=\"groups-previews\">\r\n      <h1>Come by!</h1>\r\n      <h3>Events Near You</h3>\r\n      <div class=\"group-container\">\r\n        <GroupPreview v-for=\"group in nearbyGroups\" :key=\"group._id\" :group=\"group\"></GroupPreview>\r\n      </div>\r\n      <hr>\r\n    </div>\r\n    <LoadingCmp v-if=\"!loadedGroups || !nearbyGroups && !nearbyGroups.length\"></LoadingCmp>\r\n    <div v-if=\"loadedGroups\" class=\"group-list-container\">\r\n      <h1>Try Something New</h1>\r\n      <GroupList :groups=\"groups\"></GroupList>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport GroupList from \"../components/groups/group-list-cmp\";\r\nimport groupStore from \"../store/group-store.js\";\r\nimport FilterGroup from \"../components/groups/filter-cmps/filterGroups-cmp.vue\";\r\nimport LoadingCmp from \"../components/loading-cmp.vue\";\r\nimport GroupPreview from \"../components/groups/group-preview-cmp\";\r\n\r\nexport default {\r\n  components: {\r\n    LoadingCmp,\r\n    GroupList,\r\n    FilterGroup,\r\n    GroupPreview\r\n  },\r\n  data() {\r\n    return {\r\n      loadedGroups: false,\r\n      currLoc: null,\r\n      nearbyGroups: null\r\n    };\r\n  },\r\n  created() {\r\n    this.$store.dispatch({ type: \"getGroups\" }).then(() => {\r\n      setTimeout(() => {\r\n        this.loadedGroups = true;\r\n      }, 1000);\r\n      if (navigator.geolocation) {\r\n        navigator.geolocation.getCurrentPosition(({ coords }) => {\r\n          this.currLoc = {\r\n            lat: coords.latitude,\r\n            lng: coords.longitude\r\n          };\r\n          console.log(\"currLoc\", this.currLoc);\r\n          console.log(this.$store.getters.groups);\r\n          let nearby = this.$store.getters.groups.filter(group => {\r\n            let dist = this.getDistanceFromLatLonInKm(\r\n              this.currLoc.lat,\r\n              this.currLoc.lng,\r\n              group.location.lat,\r\n              group.location.lng\r\n            );\r\n            console.log(\"distance:\", dist);\r\n            return dist < 80;\r\n          });\r\n          console.log(\"nearby groups are\", nearby);\r\n          this.nearbyGroups = nearby;\r\n        });\r\n      }\r\n    });\r\n  },\r\n  computed: {\r\n    groups() {\r\n      return this.$store.getters.groups;\r\n    }\r\n  },\r\n  methods: {\r\n    filter(filterBy) {\r\n      this.$store.dispatch({ type: \"filterGroups\", filterBy });\r\n    },\r\n    getDistanceFromLatLonInKm(lat1, lon1, lat2, lon2) {\r\n      var R = 6371; // Radius of the earth in km\r\n      var dLat = this.deg2rad(lat2 - lat1); // deg2rad below\r\n      var dLon = this.deg2rad(lon2 - lon1);\r\n      var a =\r\n        Math.sin(dLat / 2) * Math.sin(dLat / 2) +\r\n        Math.cos(this.deg2rad(lat1)) *\r\n          Math.cos(this.deg2rad(lat2)) *\r\n          Math.sin(dLon / 2) *\r\n          Math.sin(dLon / 2);\r\n      var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n      var d = R * c; // Distance in km\r\n      return d;\r\n    },\r\n    deg2rad(deg) {\r\n      return deg * (Math.PI / 180);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@media only screen and (min-width: 600px) {\r\n  section {\r\n    flex-grow: 1;\r\n    margin-top: 50px;\r\n    display: flex;\r\n    // align-items: baseline;\r\n    flex-direction: column;\r\n    .filter-container {\r\n      // margin-top: 37px;\r\n      margin-top: -70px;\r\n      width: 100%;\r\n      position: fixed;\r\n      z-index: 111;\r\n      background-color: unset;\r\n      padding: 20px;\r\n      -webkit-transition: 0.3s;\r\n      transition: 0.3s;\r\n    }\r\n  }\r\n}\r\nsection {\r\n  .group-list-container {\r\n    margin-top: 50px;\r\n    max-width: 1200px;\r\n    margin: 0 auto;\r\n    padding: 40px 30px 0 30px;\r\n    text-align: center;\r\n    margin-bottom: 50px;\r\n  }\r\n}\r\n\r\n.group-container {\r\n  overflow-x: scroll;\r\n  overflow-y: hidden;\r\n  white-space: nowrap;\r\n  margin-bottom: 50px;\r\n  display: flex;\r\n  position: relative;\r\n  transition: 0.3s;\r\n\r\n  border-top: 1px solid transparent;\r\n  border-bottom: 1px solid transparent;\r\n  // justify-content: center;\r\n}\r\n.groups-previews {\r\n  margin: 100px auto 0;\r\n}\r\nhr {\r\n  border: 0;\r\n  height: 0;\r\n  width: 100%;\r\n  border-top: 1px solid rgba(0, 0, 0, 0.1);\r\n  border-bottom: 1px solid rgba(255, 255, 255, 0.3);\r\n}\r\nh1 {\r\n  text-align: center;\r\n  font-family: \"Franklin Gothic Medium\", \"Arial Narrow\", Arial, sans-serif;\r\n  color: rgb(99, 99, 99);\r\n  font-size: 3rem;\r\n  text-transform: uppercase;\r\n}\r\nh3 {\r\n  text-align: center;\r\n  font-family: \"Franklin Gothic Medium\", \"Arial Narrow\", Arial, sans-serif;\r\n  color: rgb(99, 99, 99);\r\n}\r\n\r\n@media only screen and (max-width: 600px) {\r\n  section {\r\n    width: 100%;\r\n    flex-grow: 1;\r\n  }\r\n}\r\n</style>\r\n"]}]}